<div class="container">
    <!--form for movie input-->
        <!--ability to add new genre or pick from existing genres:
                show/hide text input/ select option dropdown-->
    <div class="formContainer">
        <h3>Add Movie</h3>
        <form ng-submit="vm.addMovie(vm.movieToAdd, vm.myDate)">
            
            <div class="formSection">
                <label for="#movieTitle">Title</label>
                <input ng-model="vm.movieToAdd.title" id="movieTitle" type="text" placeholder="e.g. Almost Famous" required/>
            </div>
            <div class="formSection">
                <label for="#releaseDate">Release Date</label>
                <!--angular material date picker-->
                    <md-datepicker ng-model="vm.myDate" 
                        md-current-view="year" 
                        md-placeholder="Enter date"
                        ></md-datepicker>
            </div>
            <div class="formSection">
                <label for="#runTime">Run Time (min)</label>
                <input ng-model="vm.movieToAdd.run_time" id="runTime" type="number" step="1.00" placeholder="120 min" required/>
            </div>
            <div class="formSection">
                <div class="genrePickContainer" >
                    <!--drop down -->
                    <div class="inputChoice" ng-show="vm.isShown" >
                        <label for="#genrePicker">Genre</label>
                        <select name="genreSelect" ng-model="vm.movieToAdd.genre" id="genrePicker"required>
                            <option value="">Please select</option>
                            <option ng-repeat="genre in vm.genresArr" value="{{genre.id}}">{{genre.name}}</option>
                        </select>
                        <p>OR</p>
                        <button type="button" 
                                ng-click="vm.isShown = !vm.isShown; vm.movieToAdd.genre = '' "
                                >
                                Add New Genre
                        </button>
                    </div>
                    <div class="inputChoice" ng-hide="vm.isShown">
                        <!-- add new genre-->
                        <label for="#newGenre">New Genre</label>
                        <input ng-model="vm.movieToAdd.genre" id="newGenre" type="text" placeholder="mystery" required/>
                        <p>OR</p>
                        <button type="button" 
                                 ng-click="vm.isShown = !vm.isShown; vm.movieToAdd.genre = ''" 
                                 >
                                 Select Existing Genre
                        </button>
                    </div>
                </div>
            </div>
            <div class="submitSection">
                <button>Submit</button>
            </div>
        </form>
    </div> 
    <h2>All Movies</h2>
    <!--movie cards containers-->
    <div class="moviesContainer">
        <!--ADD form for sorting or searching-->
        <div class="cardsContainer">
            <div class="movieCard" ng-repeat="movie in vm.moviesArr">
                <div class="confirmBox" ng-hide="movie.isHidden" ng-init="vm.isHidden = true">
                    <p class="question">Delete this movie?</p>
                    <button class="yesBtn" ng-click="vm.deleteMovie(movie.id)">Yes</button>
                    <button class="noBtn" ng-click="movie.isHidden = true">No</button>
                </div>
                <button class="movieDeleteBtn" 
                    ng-click="movie.isHidden = !movie.isHidden"><i class="fas fa-times"></i></button>
                <img class="moviePic" src="{{movie.image_url}}">
                <div class="cardInfo">
                    <p>{{movie.title}}</p>
                    <p> released: {{movie.release_date | date}}</p>
                    <p> run time: {{movie.run_time}}min</p>
                    <p>{{movie.name}}</p>
                </div>
            </div>
        </div>
    </div>
</div>